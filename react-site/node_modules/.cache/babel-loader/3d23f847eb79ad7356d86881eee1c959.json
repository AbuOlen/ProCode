{"ast":null,"code":"var _jsxFileName = \"/Users/marat/Documents/ProCode/react-timer/src/components/Timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport CountDown from \"./CountDown\";\nimport StopTimer from \"./StopTimer\";\nimport ButtonPlay from \"./ButtonPlay\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = () => {\n  _s();\n\n  let distance = 0;\n  let [timerId, setTimerId] = useState(null);\n  const [paused, setPaused] = useState(false);\n  const [over, setOver] = useState(false);\n  let [[h, min, sec], setStopTime] = useState([0, 0, 0]);\n  let [endDateString, setEndDateString] = useState(\"00:00\");\n  let titleButton = [{\n    name: \"inactive\",\n    value: \"\\ue807\"\n  }, {\n    name: \"active\",\n    value: \"\\ue807\"\n  }, {\n    name: \"pause\",\n    value: \"\\u01C1\"\n  }];\n  let [buttonTitle, setButtonTitle] = useState(titleButton[0].value);\n\n  const setTimer = () => {\n    distance -= 1000;\n\n    if (distance < 0) {\n      distance = 0; //stopTimer();\n    }\n\n    let hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n    let minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n    let seconds = Math.floor(distance % (1000 * 60) / 1000);\n    h = hours.toString().padStart(2, \"0\");\n    min = minutes.toString().padStart(2, \"0\");\n    sec = seconds.toString().padStart(2, \"0\");\n  }; //   const stopTimer = () => {\n  //     clearInterval(timerId);\n  //   };\n  // useEffect(() => {\n  //     timerId = setInterval(() => setTimer(), 1000);\n  //         return () => clearInterval(timerId);\n  //       }, [timerId]);\n\n\n  const visualCountDown = () => {\n    console.log(\"timerId\", timerId);\n\n    if (timerId === null) {\n      let endDate = new Date();\n      let now = new Date();\n      let a = endDateString.split(\":\");\n      endDate.setHours(+a[0]);\n      endDate.setMinutes(+a[1]);\n      console.log(\"start\");\n\n      if (endDate.getTime() < now.getTime()) {\n        distance = endDate.getTime() - now.getTime() + 1000 * 60 * 60 * 24;\n      } else {\n        distance = endDate.getTime() - now.getTime();\n      }\n\n      ;\n      setButtonTitle(titleButton[2].value);\n      setTimerId(setInterval(() => setTimer(), 1000));\n      setPaused(false);\n    } else {\n      if (paused) {\n        setTimerId(setInterval(setTimer, 1000));\n        console.log(\"resume\");\n      } else {\n        setButtonTitle(titleButton[1].value);\n        clearInterval(timerId);\n        setTimerId(null);\n        console.log(\"pause\");\n      }\n\n      setPaused(!paused);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player\",\n      children: [/*#__PURE__*/_jsxDEV(CountDown, {\n        hours: h,\n        minutes: min,\n        seconds: sec\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonPlay, {\n        click: visualCountDown,\n        titleButton: buttonTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StopTimer, {\n      onChange: event => setEndDateString(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Timer, \"7stTskXRRpc3bioMbHpHu4avUeQ=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/Users/marat/Documents/ProCode/react-timer/src/components/Timer.js"],"names":["React","useState","useEffect","CountDown","StopTimer","ButtonPlay","Timer","distance","timerId","setTimerId","paused","setPaused","over","setOver","h","min","sec","setStopTime","endDateString","setEndDateString","titleButton","name","value","buttonTitle","setButtonTitle","setTimer","hours","Math","floor","minutes","seconds","toString","padStart","visualCountDown","console","log","endDate","Date","now","a","split","setHours","setMinutes","getTime","setInterval","clearInterval","event","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CountDown from \"./CountDown\";\nimport StopTimer from \"./StopTimer\";\nimport ButtonPlay from \"./ButtonPlay\";\nimport \"./App.css\";\n\nconst Timer = () => {\n  \n  let distance = 0;\n\n  let [timerId, setTimerId] = useState(null);\n  const [paused, setPaused] = useState(false);\n  const [over, setOver] = useState(false);\n  let [[h, min, sec], setStopTime] = useState([0, 0, 0]);\n  let [endDateString, setEndDateString] = useState(\"00:00\");\n  \n  let titleButton = [\n    { name: \"inactive\", value: \"\\ue807\" },\n    { name: \"active\", value: \"\\ue807\" },\n    { name: \"pause\", value: \"\\u01C1\" },\n  ];\n  let [buttonTitle, setButtonTitle] = useState(titleButton[0].value); \n\n  const setTimer = () => {\n    distance -= 1000;\n    if (distance < 0) {\n      distance = 0;\n      //stopTimer();\n    }\n    let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    let seconds = Math.floor((distance % (1000 * 60)) / 1000);\n    h = hours.toString().padStart(2, \"0\");\n    min = minutes.toString().padStart(2, \"0\");\n    sec = seconds.toString().padStart(2, \"0\");\n  };\n//   const stopTimer = () => {\n//     clearInterval(timerId);\n//   };\n// useEffect(() => {\n//     timerId = setInterval(() => setTimer(), 1000);\n//         return () => clearInterval(timerId);\n//       }, [timerId]);\n\n  const visualCountDown = () => {\n    console.log(\"timerId\", timerId);\n    if (timerId === null) {\n      let endDate = new Date();\n      let now = new Date();\n      let a = endDateString.split(\":\");\n      endDate.setHours(+a[0]);\n      endDate.setMinutes(+a[1]);\n      console.log(\"start\");\n\n      if (endDate.getTime() < now.getTime()) {\n        distance = endDate.getTime() - now.getTime() + 1000 * 60 * 60 * 24;\n      } else {\n        distance = endDate.getTime() - now.getTime();\n      };\n      setButtonTitle(titleButton[2].value);\n      setTimerId(setInterval(() => setTimer(), 1000));\n      setPaused(false);\n    } else {\n        if(paused) {\n            setTimerId(setInterval(setTimer, 1000));\n            console.log(\"resume\");\n        } else {\n            setButtonTitle(titleButton[1].value);\n            clearInterval(timerId);\n            setTimerId(null);\n            console.log(\"pause\");\n        }\n        setPaused(!paused);\n    }\n    };\n\n  return (\n    <div>\n      <div className=\"player\">\n        <CountDown hours = {h}\n                    minutes = {min}\n                    seconds = {sec} />\n        <ButtonPlay click = {visualCountDown}\n                    titleButton = {buttonTitle} />\n\n      </div>\n      <StopTimer\n\n        onChange={(event) => setEndDateString(event.target.value)}\n      />\n    </div>\n  );\n};\n\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}